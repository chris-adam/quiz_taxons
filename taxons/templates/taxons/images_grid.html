<div class="images-grid">
    {% for image in images %}
        <div class="image-container">
            <a href="{{ image.image_context_link }}"
               target="_blank"
               rel="noopener noreferrer">
                <img src="{{ image.link }}" alt="{{ image.title }}" loading="lazy">
            </a>
        </div>
    {% endfor %}
</div>
<div class="controls">
    <form method="post" style="display: inline;">
        <input type="hidden" name="action" value="add_image">
        <button type="submit"
                class="btn btn-primary"
                hx-target="#images"
                hx-post="{% url 'images_grid' taxon.id %}"
                {% if images|length >= 4 %}disabled{% endif %}>
            ðŸ“¸ Ajouter
            {% if images|length <= 2 %}
                1 image
            {% else %}
                2 images
            {% endif %}
            ({{ images|length }}/4)
        </button>
    </form>
</div>
